# Calculate

### 목표

- 문자열 수식을 입력받아 계산하는 함수 evaluate
- 연산자는 더하기, 빼기, 곱하기, 나누기만 대응

### 접근 방식

- 중위 표기식을 후위 표기식으로 변환하는 [이론](https://jamanbbo.tistory.com/53)을 익힘
- TDD를 사용해 본 적은 없고 보기만 했는데, 이번 과제에 사용해보면 편할 것 같다는 생각이 들어서 Jest를 사용함

```
evaluate('1 + 2 * 3'); // 7
evaluate('(1 + 2) * 3'); // 9
evaluate('1 / 32.5 + 167 * (3498 - 1155) * -721 * (4885 - 1) / 0.5' // -2755685654567.969
```

위 두 개의 식은 큰 어려움이 없었지만, 가장 마지막 식에서 큰 어려움을 겪게 됨(여러 자릿수, 실수)

- 여러 자릿수 일 경우 `"10 + 20 - 30"`와 같은 중위 표기식을 후위 표기식으로 바꾸면 `"102030+-"`가 되는 문제를 `join(",")`을 통해 구분짓고 `split(",")`을 사용해 배열로 변환해주는 방법을 사용함
- 음수 일 경우에 처음에 시도했던 방법이, 현재 값이 `"-"`이고, 이전 값이 `NaN` 이면, `result`에 `"-"`를 푸시하고 다음 result에 들어오는 값이랑 combined 해주는 방법이였는데 문제점을 발견함.

  `"(8 - 3) + 4"`와 같은 중위 표기식을 후위 표기식으로 바꿔보면 `"83-4+"`이 되는데 위 방법으로부터 빼기 4가 아니라 마이너스 4로 변환된다.

  그래서 `result`에 `"-"`를 푸시하지 않고 `"negative"`로 구분자 역할을 해주는 값을 푸시해주는 방법을 사용함
